var EchartPieDashboard=function(){var a=getContext();let b=()=>$("#modalLoading").addClass("d-block").removeClass("d-none"),c=()=>$("#modalLoading").addClass("d-none").removeClass("d-block");var d=function(){if("undefined"==typeof echarts){console.warn("Warning - echarts.js is not available");return}var i,a=document.getElementById("pie_farm_type"),b=document.getElementById("pie_farm"),c=parseInt($("#totalPigRetained").text()),d=parseInt($("#totalPigCulling").text()),e=parseInt($("#totalFarmsRent").text()),f=parseInt($("#totalFarmsManufactured").text());if(b&&a){var g=echarts.init(b),h=echarts.init(a);h.setOption({color:["#2ec7c9","#d87a80"],textStyle:{fontFamily:"Roboto, Arial, Verdana, sans-serif",fontSize:13},title:{text:"Th\u1ED1ng k\xea s\u1ED1 l\u01B0\u1EE3ng tr\u1EA1i",subtext:"T\u1EC9 l\u1EC7 s\u1ED1 l\u01B0\u1EE3ng tr\u1EA1i thu\xea v\xe0 gia c\xf4ng",left:"center",textStyle:{fontSize:17,fontWeight:500},subtextStyle:{fontSize:12}},tooltip:{trigger:"item",backgroundColor:"rgba(0,0,0,0.75)",padding:[10,15],textStyle:{fontSize:13,fontFamily:"Roboto, sans-serif"},formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",top:"center",left:0,data:["T\u1ED4NG S\u1ED0 TR\u1EA0I THU\xca","T\u1ED4NG S\u1ED0 TR\u1EA0I GIA C\xd4NG"],itemHeight:8,itemWidth:8},series:[{name:"T\u1EC9 l\u1EC7 tr\u1EA1i",type:"pie",radius:"70%",center:["50%","57.5%"],itemStyle:{normal:{borderWidth:1,borderColor:"#fff"}},data:[{value:e>0?e:0,name:"T\u1ED4NG S\u1ED0 TR\u1EA0I THU\xca"},{value:f>0?f:0,name:"T\u1ED4NG S\u1ED0 TR\u1EA0I GIA C\xd4NG"},]}]}),g.setOption({color:["#2ec7c9","#d87a80"],textStyle:{fontFamily:"Roboto, Arial, Verdana, sans-serif",fontSize:13},title:{text:"Th\u1ED1ng k\xea s\u1ED1 l\u01B0\u1EE3ng heo c\xe1c tr\u1EA1i qu\u1EA3n l\xfd",subtext:"T\u1EC9 l\u1EC7 t\u1ED5ng s\u1ED1 heo, heo ch\u1EBFt v\xe0 heo th\u1EA3i lo\u1EA1i",left:"center",textStyle:{fontSize:17,fontWeight:500},subtextStyle:{fontSize:12}},tooltip:{trigger:"item",backgroundColor:"rgba(0,0,0,0.75)",padding:[10,15],textStyle:{fontSize:13,fontFamily:"Roboto, sans-serif"},formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",top:"center",left:0,data:["T\u1ED4NG S\u1ED0 HEO","HEO CH\u1EBET, TH\u1EA2I LO\u1EA0I"],itemHeight:8,itemWidth:8},series:[{name:"T\u1EC9 l\u1EC7 heo",type:"pie",radius:"70%",center:["50%","57.5%"],itemStyle:{normal:{borderWidth:1,borderColor:"#fff"}},data:[{value:c>0?c:0,name:"T\u1ED4NG S\u1ED0 HEO"},{value:d>0?d:0,name:"HEO CH\u1EBET, TH\u1EA2I LO\u1EA0I"},]}]})}var j=function(){b&&g.resize(),a&&h.resize()};$(document).on("click",".sidebar-control",function(){setTimeout(function(){j()},0)}),window.onresize=function(){clearTimeout(i),i=setTimeout(function(){j()},200)}},e=function(a){let b=document.getElementById("pie-material__sum"),c=a.sumFeed,d=a.sumMedicine;if(b){var e;echarts.init(b).setOption({color:["#2ec7c9","#d87a80"],textStyle:{fontFamily:"Roboto, Arial, Verdana, sans-serif",fontSize:13},title:{text:"Th\u1ED1ng k\xea v\u1EADt t\u01B0 \u0111\xe3 d\xf9ng",subtext:"T\u1EC9 l\u1EC7 t\u1ED5ng s\u1ED1 v\u1EADt c\xe1m v\xe0 thu\u1ED1c \u0111\xe3 d\xf9ng trong kho\u1EA3ng th\u1EDDi gian",left:"center",textStyle:{fontSize:17,fontWeight:500},subtextStyle:{fontSize:12}},tooltip:{trigger:"item",backgroundColor:"rgba(0,0,0,0.75)",padding:[10,15],textStyle:{fontSize:13,fontFamily:"Roboto, sans-serif"},formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",top:"center",left:0,data:["T\u1ED4NG S\u1ED0 C\xc1M \u0110\xc3 S\u1EEC D\u1EE4NG","T\u1ED4NG S\u1ED0 THU\u1ED0C, VACXIN \u0110\xc3 D\xd9NG"],itemHeight:8,itemWidth:8},series:[{name:"T\u1EC9 l\u1EC7 v\u1EADt t\u01B0",type:"pie",radius:"70%",center:["50%","57.5%"],itemStyle:{normal:{borderWidth:1,borderColor:"#fff"}},data:[{value:c,name:"T\u1ED4NG S\u1ED0 C\xc1M (KG)"},{value:d,name:"T\u1ED4NG S\u1ED0 THU\u1ED0C, VACXIN"},]}]})}var f=function(){b&&b.resize()};$(document).on("click",".sidebar-control",function(){setTimeout(function(){f()},0)}),window.onresize=function(){clearTimeout(e),e=setTimeout(function(){f()},200)}};let f=()=>{let b=$("#stage").val(),a=$("#stockSelect").val();return""==a?null:{stage:b,stockCode:a}},g=function(){$("#btnSubmit__statistical").on("click",function(g){let d=f();d&&""!==d.stockCode&&(b(),$.ajax({url:a+"/api/statistical/material-other",method:"POST",contentType:"application/json",data:JSON.stringify(d),success:function(a){a&&(c(),a.hasOwnProperty("errCode")&&null==a.errCode?e(a.result):alert("Request timeout!"))},error:function(a){c(),console.log(a)}}))})};return{init:function(){d(),g()}}}();document.addEventListener("DOMContentLoaded",function(){EchartPieDashboard.init()})